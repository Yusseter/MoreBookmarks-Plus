@tributary_truce_negotiated = 5
@tributary_truce_war = 15

# Effect to start a tributary relationship, can be called directly without a war or from start_tributary_from_war_effect
# $TRIBUTARY$ = the new tributary
# $SUZERAIN$ = their suzerain
# Effect to start a tributary relationship from a war
# $TRIBUTARY$ = the new tributary
# $SUZERAIN$ = their suzerain
# $WAR$ = required war scope
start_tributary_interaction_effect = { # Yusseter: From CKIII 2025.09.09

	# Nomadic Tributaries
	if = {
		limit = { # Yusseter
			$SUZERAIN$ = {
				AND = {
					OR = {
						has_government = nomad_government
						has_government = herder_government
						has_government = tribal_government
					}

					OR = {
						# The steppe
						capital_county.title_province = { geographical_region = dlc_mpo_steppe_western_steppe }
						capital_county.title_province = { geographical_region = dlc_mpo_steppe_central_steppe }
						capital_county.title_province = { geographical_region = dlc_mpo_steppe_eastern_steppe }
						capital_county.title_province = { geographical_region = dlc_mpo_steppe_southern_steppe }
						# Out side of the steppe
						capital_county.title_province = { geographical_region = world_middle_east_persia }
						capital_county.title_province = { geographical_region = world_siberia }
						capital_county.title_province = { geographical_region = dlc_fp1_region_colonial_eastern_europe }
						capital_county.title_province = { geographical_region = world_china_proper }
					}

					NOT = {
						#Various groups I don't want being changed from tribal to nomadic
						OR = {
							culture = { has_cultural_pillar = heritage_ugro_permian }
							culture = { has_cultural_pillar = heritage_balto_finnic }
							culture = { has_cultural_pillar = heritage_siberian }
							culture = { has_cultural_pillar = heritage_volga_finnic }
							culture = { has_cultural_pillar = heritage_east_slavic }
							culture = { has_cultural_pillar = heritage_south_slavic }
							culture = { has_cultural_pillar = heritage_west_slavic }
							culture = { has_cultural_pillar = heritage_vlach }
							culture = { has_cultural_pillar = heritage_chinese }
							culture = { has_cultural_pillar = heritage_tungusic }
							culture = { has_cultural_pillar = heritage_samoyedic }
							culture = { has_cultural_pillar = heritage_iranian }
							culture = { has_cultural_pillar = heritage_indo_aryan }
							culture = { has_cultural_pillar = heritage_tai }
							culture = { has_cultural_pillar = heritage_mien }
							culture = { has_cultural_pillar = heritage_burman }
							culture = { has_cultural_pillar = heritage_formosan }
							culture = { has_cultural_pillar = heritage_baltic }
							culture = { has_cultural_pillar = heritage_balto_finnic }
							culture = { has_cultural_pillar = heritage_volga_finnic }
							culture = { has_cultural_pillar = heritage_east_slavic }
							culture = { has_cultural_pillar = heritage_west_slavic }
							culture = { has_cultural_pillar = heritage_north_germanic }
							culture = { has_cultural_pillar = heritage_caucasian }
							culture = { has_cultural_pillar = heritage_tocharian }
							culture = { has_cultural_pillar = heritage_tibetan }
							culture = culture:chuvash
						}
					}
				}
			} 
		}
		#limit = { $SUZERAIN$ = { has_government = nomad_government } }
		$TRIBUTARY$ = {
			if = {
				limit = {
					AND = { # Yusseter
						OR = {
							has_government = nomad_government
							has_government = herder_government
							has_government = tribal_government
						}

						OR = {
							# The steppe
							capital_county.title_province = { geographical_region = dlc_mpo_steppe_western_steppe }
							capital_county.title_province = { geographical_region = dlc_mpo_steppe_central_steppe }
							capital_county.title_province = { geographical_region = dlc_mpo_steppe_eastern_steppe }
							capital_county.title_province = { geographical_region = dlc_mpo_steppe_southern_steppe }
							# Out side of the steppe
							capital_county.title_province = { geographical_region = world_middle_east_persia }
							capital_county.title_province = { geographical_region = world_siberia }
							capital_county.title_province = { geographical_region = dlc_fp1_region_colonial_eastern_europe }
							capital_county.title_province = { geographical_region = world_china_proper }
						}

						NOT = {
							#Various groups I don't want being changed from tribal to nomadic
							OR = {
								culture = { has_cultural_pillar = heritage_ugro_permian }
								culture = { has_cultural_pillar = heritage_balto_finnic }
								culture = { has_cultural_pillar = heritage_siberian }
								culture = { has_cultural_pillar = heritage_volga_finnic }
								culture = { has_cultural_pillar = heritage_east_slavic }
								culture = { has_cultural_pillar = heritage_south_slavic }
								culture = { has_cultural_pillar = heritage_west_slavic }
								culture = { has_cultural_pillar = heritage_vlach }
								culture = { has_cultural_pillar = heritage_chinese }
								culture = { has_cultural_pillar = heritage_tungusic }
								culture = { has_cultural_pillar = heritage_samoyedic }
								culture = { has_cultural_pillar = heritage_iranian }
								culture = { has_cultural_pillar = heritage_indo_aryan }
								culture = { has_cultural_pillar = heritage_tai }
								culture = { has_cultural_pillar = heritage_mien }
								culture = { has_cultural_pillar = heritage_burman }
								culture = { has_cultural_pillar = heritage_formosan }
								culture = { has_cultural_pillar = heritage_baltic }
								culture = { has_cultural_pillar = heritage_balto_finnic }
								culture = { has_cultural_pillar = heritage_volga_finnic }
								culture = { has_cultural_pillar = heritage_east_slavic }
								culture = { has_cultural_pillar = heritage_west_slavic }
								culture = { has_cultural_pillar = heritage_north_germanic }
								culture = { has_cultural_pillar = heritage_caucasian }
								culture = { has_cultural_pillar = heritage_tocharian }
								culture = { has_cultural_pillar = heritage_tibetan }
								culture = culture:chuvash
							}
						}
					}
					#OR = {
					#	has_government = nomad_government
					#	has_government = herder_government
					#}
				}
				start_tributary = {
					contract_group = tributary_nomadic
					suzerain = $SUZERAIN$
				}
			}
			else = {
				start_tributary = {
					contract_group = tributary_settled
					suzerain = $SUZERAIN$
				}
			}

			# Special terms depending on which options were set
			if = { # settled tributary
				limit = {
					AND = { # Yusseter
						OR = {
							has_government = nomad_government
							has_government = herder_government
							has_government = tribal_government
						}

						OR = {
							culture = { has_cultural_pillar = heritage_ugro_permian }
							culture = { has_cultural_pillar = heritage_balto_finnic }
							culture = { has_cultural_pillar = heritage_siberian }
							culture = { has_cultural_pillar = heritage_volga_finnic }
							culture = { has_cultural_pillar = heritage_east_slavic }
							culture = { has_cultural_pillar = heritage_south_slavic }
							culture = { has_cultural_pillar = heritage_west_slavic }
							culture = { has_cultural_pillar = heritage_vlach }
							culture = { has_cultural_pillar = heritage_chinese }
							culture = { has_cultural_pillar = heritage_tungusic }
							culture = { has_cultural_pillar = heritage_samoyedic }
							culture = { has_cultural_pillar = heritage_iranian }
							culture = { has_cultural_pillar = heritage_indo_aryan }
							culture = { has_cultural_pillar = heritage_tai }
							culture = { has_cultural_pillar = heritage_mien }
							culture = { has_cultural_pillar = heritage_burman }
							culture = { has_cultural_pillar = heritage_formosan }
							culture = { has_cultural_pillar = heritage_baltic }
							culture = { has_cultural_pillar = heritage_balto_finnic }
							culture = { has_cultural_pillar = heritage_volga_finnic }
							culture = { has_cultural_pillar = heritage_east_slavic }
							culture = { has_cultural_pillar = heritage_west_slavic }
							culture = { has_cultural_pillar = heritage_north_germanic }
							culture = { has_cultural_pillar = heritage_caucasian }
							culture = { has_cultural_pillar = heritage_tocharian }
							culture = { has_cultural_pillar = heritage_tibetan }
							culture = culture:chuvash
						}
					}
					#NOR = {
					#	has_government = nomad_government
					#	has_government = herder_government
					#}
				}
				if = {
					limit = { 
						OR = {
							scope:high_obligations ?= yes
							exists = scope:tributary_war
						}
					}
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 2 }
							tributary_contract_set_obligation_level = { type = default_tributary_levies level = 2 }
							tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 2 }
						}
					}
					custom_tooltip = high_tribute_taxes
					custom_tooltip = high_tribute_levies
					custom_tooltip = high_tribute_prestige
				}
				else_if = {
					limit = { scope:low_obligations ?= yes }
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 0 }
							tributary_contract_set_obligation_level = { type = default_tributary_levies level = 0 }
							tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 0 }
						}
					}
					custom_tooltip = low_tribute_taxes
					custom_tooltip = low_tribute_levies
					custom_tooltip = none_tribute_prestige
				}
				else = {
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 1 }
							tributary_contract_set_obligation_level = { type = default_tributary_levies level = 1 }
							tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 1 }
						}
					}
					custom_tooltip = normal_tribute_taxes
					custom_tooltip = normal_tribute_levies
					custom_tooltip = normal_tribute_prestige
				}
			}
			else = { # nomadic tributary
				if = {
					limit = { 
						OR = {
							scope:high_obligations ?= yes
							exists = scope:tributary_war
						}
					}
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = nomad_government_herd level = 3 } #herd_tax_high
							tributary_contract_set_obligation_level = { type = nomad_government_prestige level = 2 }
						}
					}
					custom_tooltip = high_tribute_herd
					custom_tooltip = high_tribute_prestige
				}
				else_if = {
					limit = { scope:low_obligations ?= yes }
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = nomad_government_herd level = 1 } #herd_tax_low
							tributary_contract_set_obligation_level = { type = nomad_government_prestige level = 0 }
						}
					}
					custom_tooltip = low_tribute_herd
					custom_tooltip = none_tribute_prestige
				}
				else = {
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = nomad_government_herd level = 2 } #herd_tax_normal
							tributary_contract_set_obligation_level = { type = nomad_government_prestige level = 1 }
						}
					}
					custom_tooltip = normal_tribute_herd
					custom_tooltip = normal_tribute_prestige
				}
			}
			if = {
				limit = { is_tributary = yes } # suppress error logging
				tributary_contract_set_obligation_level = { type = suzerain_war_participation_guarantee level = 0 }
				tributary_contract_set_obligation_level = { type = tributary_war_participation_obligation level = 0 }
				custom_tooltip = no_tributary_war_obligations
				custom_tooltip = no_suzerain_guarantee
			}
		}
	}
	else = { # subjugated tributary
		$TRIBUTARY$ = {
			start_tributary = {
				contract_group = tributary_subjugated
				suzerain = $SUZERAIN$
			}
			if = {
				limit = { scope:low_obligations ?= yes }
				if = {
					limit = { is_tributary = yes } # suppress error logging
					hidden_effect = {
						tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 1 }
						tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 0 }
					}
				}
				custom_tooltip = low_tribute_taxes
				custom_tooltip = none_tribute_prestige
			}
			else = {
				if = {
					limit = { is_tributary = yes } # suppress error logging
					hidden_effect = {
						tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 2 }
						tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 1 }
					}
				}
				custom_tooltip = high_tribute_taxes
				custom_tooltip = normal_tribute_prestige
			}
			if = {
				limit = { is_tributary = yes } # suppress error logging
				hidden_effect = {
					tributary_contract_set_obligation_level = { type = suzerain_war_participation_guarantee level = 1 }
					tributary_contract_set_obligation_level = { type = tributary_war_participation_obligation level = 0 }
				}
			}
			custom_tooltip = suzerain_guarantee
			custom_tooltip = no_tributary_war_obligations
		}
	}

	# Setup truces depending on how the tributary relationship was created
	$TRIBUTARY$ = {save_scope_as = tributary_loc }
	$SUZERAIN$ = { save_scope_as = suzerain_loc }
	if = {
		limit = { exists = scope:tributary_war } # this will exist if invoked from start_tributary_from_war_effect
		$TRIBUTARY$ = {
			add_truce_one_way = {
				character = $SUZERAIN$
				years = @[tributary_truce_war]
				war = scope:tributary_war
				result = defeat
			}
		}
	}
	else = {
		$TRIBUTARY$ = {
			add_truce_both_ways = {
				character = $SUZERAIN$
				years = @[tributary_truce_negotiated]
				name = TRUCE_TRIBUTARY
			}
		}
	}
}

demand_tribute_start_tributary_interaction_effect = { # Yusseter: From Demand Tribute 2025.09.09

	# Nomadic Tributaries
    #DON'T TOUCH THIS; SINCE WE DON?T CARE IN CASE NOMAD USES IT; WHICH THEY SHOULDN'T
	if = {
		limit = { # Yusseter
			$SUZERAIN$ = {
				AND = {
					OR = {
						has_government = nomad_government
						has_government = herder_government
						has_government = tribal_government
					}

					OR = {
						# The steppe
						capital_county.title_province = { geographical_region = dlc_mpo_steppe_western_steppe }
						capital_county.title_province = { geographical_region = dlc_mpo_steppe_central_steppe }
						capital_county.title_province = { geographical_region = dlc_mpo_steppe_eastern_steppe }
						capital_county.title_province = { geographical_region = dlc_mpo_steppe_southern_steppe }
						# Out side of the steppe
						capital_county.title_province = { geographical_region = world_middle_east_persia }
						capital_county.title_province = { geographical_region = world_siberia }
						capital_county.title_province = { geographical_region = dlc_fp1_region_colonial_eastern_europe }
						capital_county.title_province = { geographical_region = world_china_proper }
					}

					NOT = {
						#Various groups I don't want being changed from tribal to nomadic
						OR = {
							culture = { has_cultural_pillar = heritage_ugro_permian }
							culture = { has_cultural_pillar = heritage_balto_finnic }
							culture = { has_cultural_pillar = heritage_siberian }
							culture = { has_cultural_pillar = heritage_volga_finnic }
							culture = { has_cultural_pillar = heritage_east_slavic }
							culture = { has_cultural_pillar = heritage_south_slavic }
							culture = { has_cultural_pillar = heritage_west_slavic }
							culture = { has_cultural_pillar = heritage_vlach }
							culture = { has_cultural_pillar = heritage_chinese }
							culture = { has_cultural_pillar = heritage_tungusic }
							culture = { has_cultural_pillar = heritage_samoyedic }
							culture = { has_cultural_pillar = heritage_iranian }
							culture = { has_cultural_pillar = heritage_indo_aryan }
							culture = { has_cultural_pillar = heritage_tai }
							culture = { has_cultural_pillar = heritage_mien }
							culture = { has_cultural_pillar = heritage_burman }
							culture = { has_cultural_pillar = heritage_formosan }
							culture = { has_cultural_pillar = heritage_baltic }
							culture = { has_cultural_pillar = heritage_balto_finnic }
							culture = { has_cultural_pillar = heritage_volga_finnic }
							culture = { has_cultural_pillar = heritage_east_slavic }
							culture = { has_cultural_pillar = heritage_west_slavic }
							culture = { has_cultural_pillar = heritage_north_germanic }
							culture = { has_cultural_pillar = heritage_caucasian }
							culture = { has_cultural_pillar = heritage_tocharian }
							culture = { has_cultural_pillar = heritage_tibetan }
							culture = culture:chuvash
						}
					}
				}
			} 
		}
		#limit = { $SUZERAIN$ = { has_government = nomad_government } }
		$TRIBUTARY$ = {
			if = {
				limit = {
					AND = { # Yusseter
						OR = {
							has_government = nomad_government
							has_government = herder_government
							has_government = tribal_government
						}

						OR = {
							# The steppe
							capital_county.title_province = { geographical_region = dlc_mpo_steppe_western_steppe }
							capital_county.title_province = { geographical_region = dlc_mpo_steppe_central_steppe }
							capital_county.title_province = { geographical_region = dlc_mpo_steppe_eastern_steppe }
							capital_county.title_province = { geographical_region = dlc_mpo_steppe_southern_steppe }
							# Out side of the steppe
							capital_county.title_province = { geographical_region = world_middle_east_persia }
							capital_county.title_province = { geographical_region = world_siberia }
							capital_county.title_province = { geographical_region = dlc_fp1_region_colonial_eastern_europe }
							capital_county.title_province = { geographical_region = world_china_proper }
						}

						NOT = {
							#Various groups I don't want being changed from tribal to nomadic
							OR = {
								culture = { has_cultural_pillar = heritage_ugro_permian }
								culture = { has_cultural_pillar = heritage_balto_finnic }
								culture = { has_cultural_pillar = heritage_siberian }
								culture = { has_cultural_pillar = heritage_volga_finnic }
								culture = { has_cultural_pillar = heritage_east_slavic }
								culture = { has_cultural_pillar = heritage_south_slavic }
								culture = { has_cultural_pillar = heritage_west_slavic }
								culture = { has_cultural_pillar = heritage_vlach }
								culture = { has_cultural_pillar = heritage_chinese }
								culture = { has_cultural_pillar = heritage_tungusic }
								culture = { has_cultural_pillar = heritage_samoyedic }
								culture = { has_cultural_pillar = heritage_iranian }
								culture = { has_cultural_pillar = heritage_indo_aryan }
								culture = { has_cultural_pillar = heritage_tai }
								culture = { has_cultural_pillar = heritage_mien }
								culture = { has_cultural_pillar = heritage_burman }
								culture = { has_cultural_pillar = heritage_formosan }
								culture = { has_cultural_pillar = heritage_baltic }
								culture = { has_cultural_pillar = heritage_balto_finnic }
								culture = { has_cultural_pillar = heritage_volga_finnic }
								culture = { has_cultural_pillar = heritage_east_slavic }
								culture = { has_cultural_pillar = heritage_west_slavic }
								culture = { has_cultural_pillar = heritage_north_germanic }
								culture = { has_cultural_pillar = heritage_caucasian }
								culture = { has_cultural_pillar = heritage_tocharian }
								culture = { has_cultural_pillar = heritage_tibetan }
								culture = culture:chuvash
							}
						}
					}
					#OR = {
					#	has_government = nomad_government
					#	has_government = herder_government
					#}
				}
				start_tributary = {
					contract_group = tributary_nomadic
					suzerain = $SUZERAIN$
				}
			}
			else = {
				start_tributary = {
					contract_group = tributary_settled
					suzerain = $SUZERAIN$
				}
			}

			# Special terms depending on which options were set
			if = { # settled tributary
				limit = {
					AND = { # Yusseter
						OR = {
							has_government = nomad_government
							has_government = herder_government
							has_government = tribal_government
						}

						OR = {
							culture = { has_cultural_pillar = heritage_ugro_permian }
							culture = { has_cultural_pillar = heritage_balto_finnic }
							culture = { has_cultural_pillar = heritage_siberian }
							culture = { has_cultural_pillar = heritage_volga_finnic }
							culture = { has_cultural_pillar = heritage_east_slavic }
							culture = { has_cultural_pillar = heritage_south_slavic }
							culture = { has_cultural_pillar = heritage_west_slavic }
							culture = { has_cultural_pillar = heritage_vlach }
							culture = { has_cultural_pillar = heritage_chinese }
							culture = { has_cultural_pillar = heritage_tungusic }
							culture = { has_cultural_pillar = heritage_samoyedic }
							culture = { has_cultural_pillar = heritage_iranian }
							culture = { has_cultural_pillar = heritage_indo_aryan }
							culture = { has_cultural_pillar = heritage_tai }
							culture = { has_cultural_pillar = heritage_mien }
							culture = { has_cultural_pillar = heritage_burman }
							culture = { has_cultural_pillar = heritage_formosan }
							culture = { has_cultural_pillar = heritage_baltic }
							culture = { has_cultural_pillar = heritage_balto_finnic }
							culture = { has_cultural_pillar = heritage_volga_finnic }
							culture = { has_cultural_pillar = heritage_east_slavic }
							culture = { has_cultural_pillar = heritage_west_slavic }
							culture = { has_cultural_pillar = heritage_north_germanic }
							culture = { has_cultural_pillar = heritage_caucasian }
							culture = { has_cultural_pillar = heritage_tocharian }
							culture = { has_cultural_pillar = heritage_tibetan }
							culture = culture:chuvash
						}
					}
					#NOR = {
					#	has_government = nomad_government
					#	has_government = herder_government
					#}
				}
				if = {
					limit = { 
						OR = {
							scope:high_obligations ?= yes
							exists = scope:tributary_war
						}
					}
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 2 }
							tributary_contract_set_obligation_level = { type = default_tributary_levies level = 2 }
							tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 2 }
						}
					}
					custom_tooltip = high_tribute_taxes
					custom_tooltip = high_tribute_levies
					custom_tooltip = high_tribute_prestige
				}
				else_if = {
					limit = { scope:low_obligations ?= yes }
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 0 }
							tributary_contract_set_obligation_level = { type = default_tributary_levies level = 0 }
							tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 0 }
						}
					}
					custom_tooltip = low_tribute_taxes
					custom_tooltip = low_tribute_levies
					custom_tooltip = none_tribute_prestige
				}
				else = {
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 1 }
							tributary_contract_set_obligation_level = { type = default_tributary_levies level = 1 }
							tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 1 }
						}
					}
					custom_tooltip = normal_tribute_taxes
					custom_tooltip = normal_tribute_levies
					custom_tooltip = normal_tribute_prestige
				}
			}
			else = { # nomadic tributary
				if = {
					limit = { 
						OR = {
							scope:high_obligations ?= yes
							exists = scope:tributary_war
						}
					}
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = nomad_government_herd level = 3 } #herd_tax_high
							tributary_contract_set_obligation_level = { type = nomad_government_prestige level = 2 }
						}
					}
					custom_tooltip = high_tribute_herd
					custom_tooltip = high_tribute_prestige
				}
				else_if = {
					limit = { scope:low_obligations ?= yes }
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = nomad_government_herd level = 1 } #herd_tax_low
							tributary_contract_set_obligation_level = { type = nomad_government_prestige level = 0 }
						}
					}
					custom_tooltip = low_tribute_herd
					custom_tooltip = none_tribute_prestige
				}
				else = {
					if = {
						limit = { is_tributary = yes } # suppress error logging
						hidden_effect = {
							tributary_contract_set_obligation_level = { type = nomad_government_herd level = 2 } #herd_tax_normal
							tributary_contract_set_obligation_level = { type = nomad_government_prestige level = 1 }
						}
					}
					custom_tooltip = normal_tribute_herd
					custom_tooltip = normal_tribute_prestige
				}
			}
			if = {
				limit = { is_tributary = yes } # suppress error logging
				tributary_contract_set_obligation_level = { type = suzerain_war_participation_guarantee level = 0 }
				tributary_contract_set_obligation_level = { type = tributary_war_participation_obligation level = 0 }
				custom_tooltip = no_tributary_war_obligations
				custom_tooltip = no_suzerain_guarantee
			}
		}
	}
	else = { # subjugated tributary
		$TRIBUTARY$ = {
			start_tributary = {
				contract_group = demand_tribute_tributary_subjugated
				suzerain = $SUZERAIN$
			}
			if = {
				limit = { scope:low_obligations ?= yes }
				if = {
					limit = { is_tributary = yes } # suppress error logging
					hidden_effect = {
						tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 1 }
						tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 0 }
					}
				}
				custom_tooltip = low_tribute_taxes
				custom_tooltip = none_tribute_prestige
			}
			else = {
				if = {
					limit = { is_tributary = yes } # suppress error logging
					hidden_effect = {
						tributary_contract_set_obligation_level = { type = default_tributary_taxes level = 2 }
						tributary_contract_set_obligation_level = { type = default_tributary_prestige level = 1 }
					}
				}
				custom_tooltip = high_tribute_taxes
				custom_tooltip = normal_tribute_prestige
			}
			if = {
				limit = { is_tributary = yes } # suppress error logging
				hidden_effect = {
					tributary_contract_set_obligation_level = { type = suzerain_war_participation_guarantee level = 1 }
					tributary_contract_set_obligation_level = { type = tributary_war_participation_obligation level = 0 }
				}
			}
			custom_tooltip = suzerain_guarantee
			custom_tooltip = no_tributary_war_obligations
		}
	}

	# Setup truces depending on how the tributary relationship was created
	$TRIBUTARY$ = {save_scope_as = tributary_loc }
	$SUZERAIN$ = { save_scope_as = suzerain_loc }
	if = {
		limit = { exists = scope:tributary_war } # this will exist if invoked from start_tributary_from_war_effect
		$TRIBUTARY$ = {
			add_truce_one_way = {
				character = $SUZERAIN$
				years = @[tributary_truce_war]
				war = scope:tributary_war
				result = defeat
			}
		}
	}
	else = {
		$TRIBUTARY$ = {
			add_truce_both_ways = {
				character = $SUZERAIN$
				years = @[tributary_truce_negotiated]
				name = TRUCE_TRIBUTARY
			}
		}
	}
}